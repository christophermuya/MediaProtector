<form name="trashEventForm" 
          val-form-manager 
          novalidate
          ng-submit="vm.save()">
    <div ng-controller="trashEventController as vm">
        <div class="umb-package-details">
            <div class="umb-package-details__main-content">
                <div class="umb-box">
                    <div class="umb-box-content mp-event-header">
                        <center><span class="bold"><i class="icon-trash"></i> Trash event</span></center>
                    </div>
                </div>
                <div class="umb-box">
                    <div class="umb-group-panel__header">
                        Prevent media nodes from being trashed
                    </div>
                    <div class="umb-box-content">
                        <umb-control-group label="Media nodes" description="Select media nodes you want to protect.">
                            <umb-node-preview style="max-width: 100%;"
                                              ng-repeat="node in vm.selectedMediaIds"
                                              icon="node.icon"
                                              name="node.name"
                                              allow-remove="true"
                                              on-remove="vm.removeSelectedItem($index, vm.selectedMediaIds)">
                            </umb-node-preview>
                            <umb-node-preview ng-if="vm.selectedMediaIds.length === 0"
                                              style="max-width: 100%;">
                            </umb-node-preview>
                            <a href=""
                               class="umb-node-preview-add"
                               ng-click="vm.openMediaPicker()"
                               id="media-start-add"
                               prevent-default>
                                <localize key="general_add">Add</localize>
                            </a>
                        </umb-control-group>
                        <div class="mp-footer">
                            <umb-button type="button"
                                        button-style="success"
                                        label="Save Settings"
                                        state="vm.saveSettingsState"
                                        action="vm.saveSettings()"
                                        size="xs">
                            </umb-button>                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="umb-package-details__sidebar">
                <umb-box>
                    <div class="umb-box-header">
                        <div class="umb-box-header-title">Users Exception</div>
                    </div>
                    <umb-box-content>
                        <umb-user-preview ng-repeat="user in vm.currentSelectedUsers"
                                          name="user.name"
                                          avatars="user.avatars"
                                          allow-remove="true"
                                          on-remove="vm.removeSelectedItem($index, vm.currentSelectedUsers)">
                        </umb-user-preview>
                        <a href=""
                           style="max-width: 100%;"
                           class="umb-node-preview-add"
                           ng-click="vm.openUserPicker()"
                           prevent-default>
                            <localize key="general_add">Add</localize>
                        </a>
                    </umb-box-content>
                </umb-box>
                <div class="umb-box">
                    <div class="umb-group-panel__header">
                        Info
                    </div>
                    <div class="umb-box-content">
                        <i class="icon-alert red"></i>
                        <strong class="red">Important: </strong>This will cancel trash event for selected media node.
                        <hr />
                        <div>
                            Edited by: {{vm.editedByUser}}
                        </div>
                        <hr />
                        <div>
                            Edited Date: {{vm.editedDate}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>